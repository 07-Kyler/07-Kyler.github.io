# 题目：[P1843 奶牛晒衣服](https://www.luogu.com.cn/problem/P1843)

**标签：** #二分答案
## 题意描述

要把n件衣服弄干 一件衣服在自然条件下用一秒的时间可以晒干 a 点湿度。只有一台烘衣机 。使用用一秒烘衣机可以让一件衣服额外烘干 b 点湿度（一秒晒干 a+b 湿度），但在同一时间内只能烘一件衣服。现在有 n 件衣服，第 i 衣服的湿度为 $w_i​$（保证互不相同），要你求出弄干所有衣服的最少时间（湿度为 0 为干 ）

数据范围 ： 1≤ $w_i​$ ,a,b,n≤5×105

----
## 题面翻译

不在赘述.

---

## 解题思路

因为不太好第一时间知道最短时间 所以考虑用二分+验证的方法来逼近正确答案  

【每一件衣服】：每一件衣服的湿度 $w_{i}$ 应该被分为两个部分 一部分是 sec\*a的风干湿度  一部分是$w[i] - sec * a$ 之后剩下的还需要用烘干机风干的湿度 每一件湿度大于自然风干上限的衣服会需要一定的时间去烘干 而这个烘干和风干是可以同时进行的 所以只需要保证所有衣服烘干的时间不超过sec 那么就能保证在风干结束后 烘干也刚好结束或者早就结束了 当然最好的情况是风干时间结束 烘干时间也刚好结束

这道题的关键在于check函数怎么写 : 

【check】：首先 check传入可能的答案参数sec （sec标定了这次二分期望用这么多时间）也就是说烘干每一件衣服的分别需要时间之和应该是在sec以内  其次每一件衣服进入判断：如果自然烘干的适度（sec\*a）>= w\[i] 即不需要烘干机 在sec时间以内就可以干 先特判可以满足就直接看下一件衣服  对于每一次二分出来的 sec 都应该定义一个记录烘干需要的总时间need 每一次累加每一件衣服需要烘干的我时间 如果>sec剪枝 最后返回need <= sec表达式的值

---


${{\Huge Code}}$
```cpp
#include<bits/stdc++.h>
using namespace std;
#define ll long long
bool check(ll sec);
ll a,b;
int n;
vector<ll> w;

signed main (){
    ios::sync_with_stdio(false);
    cin.tie(0);

    cin>>n>>a>>b;//a风干速度 ，b烘干速度，n衣服数量
    w.resize(n);
    for(int i = 0;i<n;++i){
        cin>>w[i];    
    }
    
    ll l = 0,r = 1e9;
    while(l<r){
        ll mid = (l+r)/2;
        if(check(mid)) r = mid;
        else l = mid+1;
    }

    cout<<r<<endl;
    return 0;
}
    
bool check(ll sec){
    ll need = 0;
    for (int i = 0; i < n; i++) {
        if (w[i] > sec * a) {                     
            ll t = w[i] - sec * a;                  
            ll y = t/b;
            if(t%b!=0) y++;
            need+=y;
            if (need > sec) return false;
        }
    }
    return need <= sec;
}~~~~
```